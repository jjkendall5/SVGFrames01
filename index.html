<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vector Animation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="control-group">
            <button id="undoBtn" class="icon-btn" title="Undo (Ctrl+Z)">
                <span class="btn-icon">↶</span>
                <span class="btn-label">Undo</span>
            </button>
            <button id="redoBtn" class="icon-btn" title="Redo (Ctrl+Y)">
                <span class="btn-icon">↷</span>
                <span class="btn-label">Redo</span>
            </button>
        </div>
        
        <div class="control-group playback">
            <button id="playBtn" class="icon-btn play" title="Play/Pause">
                <span class="btn-icon">▶</span>
                <span class="btn-label">Play</span>
            </button>
            <button id="stopBtn" class="icon-btn" title="Stop">
                <span class="btn-icon">⏹</span>
                <span class="btn-label">Stop</span>
            </button>
            <div class="fps-control">
                <label>FPS</label>
                <input type="number" id="fpsInput" value="12" min="1" max="60">
            </div>
        </div>

        <div class="control-group">
            <button id="exportGifBtn" class="text-btn">Export SVG</button>
            <button id="exportJsonBtn" class="text-btn">Save Project</button>
            <button id="importJsonBtn" class="text-btn">Open Project</button>
            <input type="file" id="fileInput" accept=".json" style="display: none;">
        </div>
    </div>

    <!-- Main Workspace -->
    <div class="workspace">
        <!-- Left Toolbar -->
        <div class="toolbar">
            <div class="tool-group">
                <button id="penTool" class="tool-btn active" title="Pen (P)" data-tool="pen">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 17l4-4m0 0l10-10 4 4-10 10m-4-4l-4 4"/>
                    </svg>
                    <span class="tool-label">Pen</span>
                </button>
                <button id="eraserTool" class="tool-btn" title="Eraser (E)" data-tool="eraser">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="4" y="8" width="12" height="8" rx="1"/>
                        <path d="M7 8l6-6"/>
                    </svg>
                    <span class="tool-label">Eraser</span>
                </button>
            </div>

            <div class="divider"></div>

            <div class="tool-group sizes">
                <span class="group-label">Size</span>
                <button class="size-btn active" data-size="2" title="Small (1)">
                    <div class="size-preview" style="width: 2px; height: 2px;"></div>
                    <span class="size-label">S</span>
                </button>
                <button class="size-btn" data-size="5" title="Medium (2)">
                    <div class="size-preview" style="width: 5px; height: 5px;"></div>
                    <span class="size-label">M</span>
                </button>
                <button class="size-btn" data-size="10" title="Large (3)">
                    <div class="size-preview" style="width: 10px; height: 10px;"></div>
                    <span class="size-label">L</span>
                </button>
            </div>

            <div class="divider"></div>

            <div class="tool-group">
                <span class="group-label">Color</span>
                <input type="color" id="colorPicker" value="#000000" title="Color">
            </div>

            <div class="spacer"></div>

            <div class="tool-group">
                <button id="onionSkinToggle" class="tool-btn" title="Onion Skin (O)">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="10" cy="10" r="7" opacity="0.3"/>
                        <circle cx="10" cy="10" r="4"/>
                    </svg>
                    <span class="tool-label">Onion</span>
                </button>
            </div>
        </div>

        <!-- Canvas Area -->
        <div class="canvas-area">
            <svg id="mainSvg" width="800" height="600" xmlns="http://www.w3.org/2000/svg">
                <rect width="100%" height="100%" fill="white"/>
                <g id="onionSkinLayer" opacity="0.3"></g>
                <g id="layersContainer"></g>
            </svg>
        </div>

        <!-- Floating Panels -->
        <div class="floating-panel layers-panel">
            <div class="panel-header">
                <span class="panel-title">Layers</span>
                <div class="panel-actions">
                    <button id="addLayerBtn" class="icon-btn small" title="Add Layer">
                        <span class="btn-icon">+</span>
                        <span class="btn-label">Add</span>
                    </button>
                    <button id="deleteLayerBtn" class="icon-btn small" title="Delete Layer">
                        <span class="btn-icon">−</span>
                        <span class="btn-label">Delete</span>
                    </button>
                </div>
            </div>
            <div id="layerList" class="layer-list"></div>
            <button id="clearFrameBtn" class="clear-btn">Clear Layer</button>
        </div>
    </div>

    <!-- Timeline -->
    <div class="timeline">
        <div class="timeline-header">
            <div class="timeline-controls">
                <button id="addFrameBtn" class="icon-btn small" title="Add Frame">
                    <span class="btn-icon">+</span>
                    <span class="btn-label">Add</span>
                </button>
                <button id="duplicateFrameBtn" class="icon-btn small" title="Duplicate">
                    <span class="btn-icon">⧉</span>
                    <span class="btn-label">Duplicate</span>
                </button>
                <button id="deleteFrameBtn" class="icon-btn small" title="Delete">
                    <span class="btn-icon">×</span>
                    <span class="btn-label">Delete</span>
                </button>
            </div>
            <span id="frameCounter" class="frame-counter">1 / 1</span>
        </div>
        <div class="frame-list" id="frameList"></div>
    </div>

    <script src="gif.js"></script>
    <script src="main.js"></script>
</body>
</html>
